【注】函数说明：
Floor()：取整数，小数部分 无条件舍去
Round()：小数部分 四舍五入 至整数
RoundUP()：小数部分 无条件进位 至整数  

HP 公式

基本 HP = 35 + ( Base Lv * HP乘数 ) + Σ( Round( HP系数 * n ) )　

【注】n = 2～Base Lv

最高血量 (MHP) = Floor( [ 基本HP * ( 1 + VIT / 100) + 附加HP ] * ( 1 + HP提升率 ) ) 



HP 回复量 

HP 回复量 = Floor( [ Floor( MHP / 200 ) + Floor( VIT / 5 ) ] * 上升回复率 )

【注】若 MHP / 200 ＜ 1 时，直接以 1 计算。

● 站立时，每 6 秒钟回复一次。 
● VIT 包含基本素质、职业加成、装备、卡片的总和。 
● 上升回复率是指装备或卡片有提升回复量的部分，以百分比表示，如腐尸卡 HP 回复增加 20%。


道具回复量

HP 回复道具回复量 = Floor( 回复道具原回复量 * ( 1 + VIT * 2% ) )

● VIT 包含基本素质、职业加成、装备、卡片的总和。


SP公式

基本 SP = 10 + ( Base Lv * SP系数 )

最高魔力 MSP = Floor( [ 基本SP * ( 1 + INT / 100) + 附加SP ] * ( 1 + SP提升率 ) ) 

● INT 包含基本素质、职业加成、装备、卡片的总和。 
● 附加 SP 是指装备或卡片有增加 SP 的部分，以数字表示，如魔法师帽 SP + 150。 
● SP 提升率是指装备或卡片有提升 SP 的部分，以百分比表示，如鬼女卡 SP 增加 15%。 


SP 回复量

当 INT < 120：
基本SP回复量 = 1 + Floor( INT / 6 ) + Floor( MSP / 100 )


当 INT R 120：
基本SP回复量 = 1 + Floor( INT / 6 ) + Floor( MSP / 100 ) + Floor( ( INT - 120 ) / 2 ) + 4


SP 回复量 = Floor( 基本 SP 回复量 * ( 1 + 上升回复率 ) ) 

● 站立时，每 8 秒钟回复一次。 
● INT 包含基本素质、职业加成、装备、卡片的总和。 
● 上升回复率是指装备或卡片有提升回复量的部分，以百分比表示，如鬼女卡 SP 回复增加 3%。 


禅心回复量

禅心(SP)回复量 = Floor( ( 禅心等级 * 3 ) + ( MSP * 0.002 * 禅心等级 ) ) 

● 不移动时，每 10 秒钟回复一次。 
● 若移动时，必需在停止移动后，重新计时 10 秒钟。 
● 站立、坐下及圣母之颂歌并不影响回复时间。 


命中与回避公式

自身命中 Hit = Base Lv + DEX + 装备与卡片修正

对某敌人的命中率 (%) = 自身 Hit + 80 - 对方 Flee 

● DEX 包含基本素质、职业加成、装备、卡片的总和。 
● 装备与卡片修正如：土波利卡 DEX + 1 及 Hit + 3 等。 

命中率小常识：

技能的命中率是 100% 的哦！只有物理攻击才会有 Miss 的问题！
而超魔导师的魔击术是将法术能量转换成物理攻击，因此才必须要考虑命中率的。
【注】所谓技能，就是‘技能栏 (使用 Alt - S 开关) ’里看得到的，因此，法术也是属于技能哦！


回避与完全回避

自身 Flee = Base Lv + AGI + 装备与卡片修正

对某敌人的一般回避率 (%) = 自身 Flee + 20 - 对方 Hit　【注】最高以 95% 计算

完全回避率 (%) = Floor( LUK / 10 + 1 ) + 装备与卡片修正

● AGI 及 LUK 包含基本素质、职业加成、装备、卡片的总和。 
● 装备与卡片修正如：苍蝇卡 AGI + 1 及 Flee + 2、白幽灵卡 Flee + 20、疯兔卡 LUK + 1 及 完全回避 + 1 等。 
● 当同时受到 3 个以上的敌人攻击时，每增加 1 个敌人，一般回避率下降 10%。 

关于攻击行为里的回避：当攻击行为发生时，游戏会依下面的顺序做回避判断，若有‘回避成功’的结果出现，则攻击行为将被判定无效，受攻击方不会有伤害发生。

● 若攻击方是使用技能攻击，则受攻击方必须无条件完全承受伤害值。 
● 若不是第 1 点的情况，则判断‘完全回避’，这是与攻击方强弱及数量无关的回避，判断回避成功时，受攻击方头上会出现‘Luck’字样。 
● 若完全回避失败，再接着判断‘一般回避’，依攻守双方的强弱与数量来计算成功与否，判断回避成功时，攻击方头上会出现‘Miss’字样。 
● 如果以上回避全部失败，则为攻击成功，受攻击方必须要承受伤害值。 
● 若攻击行为里含有不可回避的伤害 ( 如武器研究、有加"星星的角"的武器 )，即使回避成功，一般的攻击部份视为无效，但仍要受这部份的伤害值哦！ 


魔法吟唱时间公式

施法速度公式：原施法时间 * ( 1 - ( DEX / 150 ) ) 

● DEX 包含基本素质、职业加成、装备、卡片的总和。 
● 凡是施放技能时，角色头上会出现计时条的，施法速度便会受 DEX 影响。 
● 念系法术有自己的施法速度公式，请参考技能详解。 


魔法攻击力公式

最小 MATK = INT + Floor( INT / 7 ) 2
最大 MATK = INT + Floor( INT / 5 ) 2

● INT包含基本素质、职业加成、装备、卡片的总和。 


魔法攻击伤害

使用法术对敌人造成的伤害值 Mdmg ：

基本 Mdmg = MATK * ( 1 + MATK提升率 )

Mdmg = Floor( ( 基本 Mdmg * ( 100 - 敌人乘算魔防 ) / 100 - 敌人减算魔防 ) * 属性修正 )

无视魔防的法术 Mdmg = 各法术自己的计算公式 * 属性修正

● MATK 会依上一个公式在最小 MATK 和最大 MATK 之间漂移。 
● MATK提升率为手杖有提升MATK的部分，目前各手杖的提升率均为 15%。 
● 无视魔防的法术 ( 如火柱攻击 ) 均有自己独立的伤害计算公式，并不使用上述公式计算。
● 要注意的是，这些法术虽然无视魔防，但仍要考虑属性对应。 
● 魔法攻击没有体型对应的问题，对大中小体型均为 100%。 


元素箭的伤害

欲计算元素箭几级时才能 100% 击败敌人：
所需箭数 = RoundUP( 敌人 HP / 属性修正 / ( 最小基本 Mdmg * ( 100 - 敌人乘算魔防 ) / 100 - 敌人减算魔防 ) )

欲计算使用元素箭能 100% 击败敌人所需最小基本 Mdmg：
所需最小基本 Mdmg = RoundUP( ( 敌人 HP / 箭数 / 属性修正 + 敌人减算魔防 ) / ( 100 - 敌人乘算魔防 ) / 100 )


魔法防御力公式

自身乘算魔防 = 防具附加魔防

自身减算魔防 = INT + Floor( VIT / 2 )

● INT 及 VIT 包含基本素质、职业加成、装备、卡片的总和。 
● 防具附加魔防是指防具有提升 MDEF 的总和，以数字表示，如丝质外袍 MDEF + 10。 


物理防御力公式

受到敌人的物理攻击时…

基本伤害值 = Floor( 敌人 ATK * ( 100 - 自身乘算物理防御 ) / 100 - 自身减算物理防御 )

最后伤害值 = Floor( Floor( 基本伤害值 * 种族卡减伤率 ) * 属性卡减伤率 )

● 乘算防御及减算防御的计算，请参考下方的公式。 
● 若种族卡或属性卡有同时插 2 张以上同类型卡片时，以加算计算
如，马克卡 ( 铠甲、水属性伤害 -5% ) 和乌贼卡 ( 披肩、水属性伤害 -30% )，则总共对水属性伤害 -35%。 


物理乘算公式

自身乘算物理防御 = 防具防御力总和 + 卡片防御力总和 + Round( 防具精炼值总和 * 0.7 )
自身最小减算物理防御 = Floor( VIT * 0.5 ) + Floor( VIT * 0.3 )
自身最大减算物理防御 = Floor( VIT * 0.5 ) + Floor( VIT 2 / 150 ) - 1
如果 最大 ＜ 最小 ( VIT ＜ 50 )，则 最大 ＝ 最小 ＝ 0.8 VIT

● VIT 包含基本素质、职业加成、装备、卡片的总和。 
● 防具防御力以‘防 X’表示，如西装防 5。 
● 卡片防御力以‘DEF + X’表示，如蜗牛卡 DEF + 2。 
● 当同时受到 3 个以上的敌人攻击时，每增加 1 个敌人，乘算及减算物理防御均下降 5%。 


负重公式

2000 + 负重加成 + STR * 30

● STR 仅计算自身的基本素质，不含职业加成、装备或卡片附加的 STR。